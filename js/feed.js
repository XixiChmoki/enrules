var shareImageButton=document.querySelector("#share-image-button"),createPostArea=document.querySelector("#create-post"),closeCreatePostModalButton=document.querySelector("#close-create-post-modal-btn"),sharedMomentsArea=document.querySelector("#shared-moments");function openCreatePostModal(){createPostArea.style.display="block",deferredPrompt&&(deferredPrompt.prompt(),deferredPrompt.userChoice.then(function(e){console.log(e.outcome),"dismissed"===e.outcome?console.log("User cancelled installation"):console.log("User added to home screen")}),deferredPrompt=null)}function closeCreatePostModal(){createPostArea.style.display="none"}function onSaveButtonClicked(e){console.log("clicked"),"caches"in window&&caches.open("user-requested").then(function(e){e.add("https://httpbin.org/get"),e.add("/src/images/sf-boat.jpg")})}function clearCards(){for(;sharedMomentsArea.hasChildNodes();)sharedMomentsArea.removeChild(sharedMomentsArea.lastChild)}function createCard(){var e=document.createElement("div");e.className="shared-moment-card mdl-card mdl-shadow--2dp";var t=document.createElement("div");t.className="mdl-card__title",t.style.backgroundImage='url("/src/images/sf-boat.jpg")',t.style.backgroundSize="cover",t.style.height="180px",e.appendChild(t);var o=document.createElement("h2");o.style.color="white",o.className="mdl-card__title-text",o.textContent="San Francisco Trip",t.appendChild(o);var a=document.createElement("div");a.className="mdl-card__supporting-text",a.textContent="In San Francisco",a.style.textAlign="center",e.appendChild(a),componentHandler.upgradeElement(e),sharedMomentsArea.appendChild(e)}shareImageButton.addEventListener("click",openCreatePostModal),closeCreatePostModalButton.addEventListener("click",closeCreatePostModal);var url="https://httpbin.org/post",networkDataReceived=!1;fetch(url,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({message:"Some message"})}).then(function(e){return e.json()}).then(function(e){networkDataReceived=!0,console.log("From web",e),clearCards(),createCard()}),"caches"in window&&caches.match(url).then(function(e){if(e)return e.json()}).then(function(e){console.log("From cache",e),networkDataReceived||(clearCards(),createCard())});